<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract Installable Package References from renv.lock for Use with pak — pak_from_renv • ecokit</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract Installable Package References from renv.lock for Use with pak — pak_from_renv"><meta name="description" content="This function parses a given renv.lock file and extracts all package
references that can be directly installed using the pak package
pak::pkg_install. It supports a wide range of repositories, including CRAN,
Bioconductor, GitHub, GitLab, Bitbucket, and other common remote sources, as
well as tarball URLs. The function returns a list of multiple character
vectors:
pak: installable references for pak (CRAN/BioC only, no remotes)
tarballs: package references for tarball URLs, formatted for pak as
pkg=url::https://... if the package name is known, or just
url::https://... if not.
remote: GitHub/GitLab/Bitbucket package references, formatted for pak as
github::user/repo, gitlab::user/repo, or bitbucket::user/repo (or, if
the package name differs from the repo, as pkg=github::user/repo etc.).

"><meta property="og:description" content="This function parses a given renv.lock file and extracts all package
references that can be directly installed using the pak package
pak::pkg_install. It supports a wide range of repositories, including CRAN,
Bioconductor, GitHub, GitLab, Bitbucket, and other common remote sources, as
well as tarball URLs. The function returns a list of multiple character
vectors:
pak: installable references for pak (CRAN/BioC only, no remotes)
tarballs: package references for tarball URLs, formatted for pak as
pkg=url::https://... if the package name is known, or just
url::https://... if not.
remote: GitHub/GitLab/Bitbucket package references, formatted for pak as
github::user/repo, gitlab::user/repo, or bitbucket::user/repo (or, if
the package name differs from the repo, as pkg=github::user/repo etc.).

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ecokit</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/elgabbas/ecokit/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extract Installable Package References from renv.lock for Use with pak</h1>
      <small class="dont-index">Source: <a href="https://github.com/elgabbas/ecokit/blob/main/R/general_pak_from_renv.R" class="external-link"><code>R/general_pak_from_renv.R</code></a></small>
      <div class="d-none name"><code>pak_from_renv.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function parses a given <code>renv.lock</code> file and extracts all package
references that can be directly installed using the <code>pak</code> package
<a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pak::pkg_install</a>. It supports a wide range of repositories, including CRAN,
Bioconductor, GitHub, GitLab, Bitbucket, and other common remote sources, as
well as tarball URLs. The function returns a list of multiple character
vectors:</p><ul><li><p><code>pak</code>: installable references for <code>pak</code> (CRAN/BioC only, no remotes)</p></li>
<li><p><code>tarballs</code>: package references for tarball URLs, formatted for pak as
<code>pkg=url::https://...</code> if the package name is known, or just
<code>url::https://...</code> if not.</p></li>
<li><p><code>remote</code>: GitHub/GitLab/Bitbucket package references, formatted for pak as
<code>github::user/repo</code>, <code>gitlab::user/repo</code>, or <code>bitbucket::user/repo</code> (or, if
the package name differs from the repo, as <code>pkg=github::user/repo</code> etc.).</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pak_from_renv</span><span class="op">(</span><span class="va">lockfile</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-lockfile">lockfile<a class="anchor" aria-label="anchor" href="#arg-lockfile"></a></dt>
<dd><p>Path to the <code>renv.lock</code> file (JSON format).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with the following elements:</p><dl><dt>pak</dt>
<dd><p>Character vector of installable references for <code>pak</code>
(CRAN/BioC only)</p></dd>

<dt>tarballs</dt>
<dd><p>Character vector of tarball URLs in pak syntax
(see Details)</p></dd>

<dt>remote</dt>
<dd><p>Character vector of all remote package references in pak
syntax</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>These lists allow you to separately process packages by source, or install
GitHub/GitLab/Bitbucket packages without strict versioning/commit, which can
sometimes help avoid dependency resolution conflicts in pak (and other
tools). Tarball URLs are provided in a pak-compatible format.</p>
<p><a href="https://rstudio.github.io/renv/index.html" class="external-link"><code>renv</code></a> is a popular R
package for project-local dependency management, creating lock files
(<code>renv.lock</code>) to ensure reproducible environments.
<a href="https://pak.r-lib.org/" class="external-link"><code>pak</code></a> is a fast, parallel package installer that
works with CRAN, GitHub, Bioconductor, and other sources, but does not
natively install from <code>renv.lock</code>. This function bridges the gap, enabling
fast, parallel installation of all packages specified in a lockfile using
<code>pak</code>, and allows you to reuse <code>pak</code>'s cache with renv::restore for speed
and reliability.</p>
<p>The function is used to extract a complete list of installable references
from any <code>renv.lock</code> for rapid, parallel installation via <code>pak</code>. After
installing with <a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pak::pkg_install</a>, you can run renv::restore to link
cached packages, ensuring a reproducible environment with minimal download
time.</p>
<p>In addition to the main installable references, the function outputs a
separate list for all remotes (GitHub, GitLab, Bitbucket) in pak-compatible
syntax, and a tarballs list in pak-compatible syntax (<code>url::</code> or
<code>pkg=url::...</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pak::pkg_install()</a></code>, <code>renv::restore()</code>, <code><a href="https://remotes.r-lib.org/reference/install_url.html" class="external-link">remotes::install_url()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ahmed El-Gabbas</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">lock_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"https://raw.githubusercontent.com/cosname/"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"rmarkdown-guide/master/renv.lock"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">pak_packages</span> <span class="op">&lt;-</span> <span class="fu">pak_from_renv</span><span class="op">(</span>lockfile <span class="op">=</span> <span class="va">lock_path</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pak</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "DBI@1.1.2"               "DiagrammeR@1.0.9"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [3] "MASS@7.3-57"             "Matrix@1.4-1"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [5] "R6@2.5.1"                "RColorBrewer@1.1-3"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [7] "RSQLite@2.2.13"          "Rcpp@1.0.8.3"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [9] "RcppTOML@0.1.7"          "askpass@1.1"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [11] "assertthat@0.2.1"        "babynames@1.0.1"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [13] "base64enc@0.1-3"         "bit64@4.0.5"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [15] "bit@4.0.4"               "blob@1.2.3"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [17] "bookdown@0.26"           "brio@1.1.3"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [19] "bslib@0.3.1"             "cachem@1.0.6"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [21] "callr@3.7.0"             "cli@3.3.0"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [23] "clipr@0.8.0"             "colorspace@2.0-3"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [25] "commonmark@1.8.0"        "cpp11@0.4.2"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [27] "crayon@1.5.1"            "crosstalk@1.2.0"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [29] "curl@4.3.2"              "desc@1.4.1"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31] "diffobj@0.3.5"           "digest@0.6.29"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [33] "distill@1.3"             "downlit@0.4.0"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [35] "downloader@0.4"          "dplyr@1.0.9"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37] "dygraphs@1.1.1.6"        "ellipsis@0.3.2"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [39] "evaluate@0.15"           "fansi@1.0.3"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [41] "farver@2.1.0"            "fastmap@1.1.0"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [43] "filehash@2.4-3"          "flexdashboard@0.5.2"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [45] "fontawesome@0.2.2"       "formatR@1.12"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [47] "fs@1.5.2"                "gdtools@0.2.4"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [49] "generics@0.1.2"          "ggplot2@3.3.5"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] "ggrepel@0.9.1"           "gifski@1.6.6-1"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [53] "glue@1.6.2"              "gridExtra@2.3"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [55] "gtable@0.3.0"            "here@1.0.1"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [57] "highr@0.9"               "hms@1.1.1"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [59] "htmltools@0.5.2"         "htmlwidgets@1.5.4"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61] "httpuv@1.6.5"            "httr@1.4.3"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [63] "huxtable@5.4.0"          "igraph@1.3.1"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [65] "influenceR@0.1.0.1"      "isoband@0.2.5"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [67] "jquerylib@0.1.4"         "jsonlite@1.8.0"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [69] "kableExtra@1.3.4"        "knitr@1.39"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71] "labeling@0.4.2"          "later@1.3.0"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73] "lattice@0.20-45"         "lazyeval@0.2.2"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] "leaflet.providers@1.9.0" "leaflet@2.1.1"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [77] "lifecycle@1.0.1"         "lubridate@1.8.0"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [79] "magick@2.7.3"            "magrittr@2.0.3"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [81] "markdown@1.3"            "memoise@2.0.1"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [83] "mgcv@1.8-40"             "mime@0.12"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [85] "munsell@0.5.0"           "nlme@3.1-157"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [87] "officedown@0.2.4"        "officer@0.4.4"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [89] "openssl@2.0.4"           "pillar@1.7.0"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] "pkgconfig@2.0.3"         "pkgload@1.2.4"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [93] "plogr@0.2.0"             "png@0.1-7"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [95] "praise@1.0.0"            "prettydoc@0.4.1"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [97] "prettyunits@1.1.1"       "processx@3.6.0"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [99] "progress@1.2.2"          "promises@1.2.0.1"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101] "ps@1.7.0"                "purrr@0.3.4"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [103] "r2d3@0.2.6"              "rappdirs@0.3.3"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [105] "raster@3.5-15"           "readr@2.1.2"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [107] "rematch2@2.1.2"          "renv@0.15.4"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [109] "reticulate@1.24"         "rgl@0.108.3"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [111] "rlang@1.0.6"             "rmarkdown@2.14"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [113] "rprojroot@2.0.3"         "rstudioapi@0.13"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [115] "rticles@0.23"            "rvest@1.0.2"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [117] "rvg@0.2.5"               "sass@0.4.1"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [119] "scales@1.2.0"            "selectr@0.4-2"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121] "servr@0.24"              "shiny@1.7.1"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [123] "sourcetools@0.1.7"       "sp@1.4-7"               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [125] "stringi@1.7.6"           "stringr@1.4.0"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [127] "svglite@2.1.0"           "sys@3.4"                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [129] "systemfonts@1.0.4"       "terra@1.5-21"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [131] "testthat@3.1.4"          "tibble@3.1.7"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [133] "tidyr@1.2.0"             "tidyselect@1.1.2"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [135] "tikzDevice@0.12.3.1"     "tinytex@0.39"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [137] "tufte@0.12"              "tzdb@0.3.0"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [139] "utf8@1.2.2"              "uuid@1.1-0"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [141] "vctrs@0.4.1"             "viridis@0.6.2"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [143] "viridisLite@0.4.0"       "visNetwork@2.1.0"       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [145] "vroom@1.5.7"             "waldo@0.4.0"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [147] "webshot@0.5.3"           "whisker@0.4"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [149] "withr@2.5.0"             "xaringan@0.24"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151] "xaringanExtra@0.7.0"     "xfun@0.31"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [153] "xml2@1.3.3"              "xtable@1.8-4"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [155] "xts@0.12.1"              "yaml@2.3.5"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [157] "zip@2.2.0"               "zoo@1.8-10"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $tarballs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $remote</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Install packages using pak</span></span></span>
<span class="r-in"><span><span class="co"># pak::pak_install(pak_packages$pak)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Install all remote packages (latest HEAD, no SHA)</span></span></span>
<span class="r-in"><span><span class="co"># pak::pak_install(pak_packages$remote)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Install tarballs</span></span></span>
<span class="r-in"><span><span class="co"># pak::pak_install(pak_packages$tarballs)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://elgabbas.netlify.app/" class="external-link">Ahmed El-Gabbas</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

